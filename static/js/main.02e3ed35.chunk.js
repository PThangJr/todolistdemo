(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{14:function(t,e,a){},15:function(t){t.exports=JSON.parse("{}")},16:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(8),l=a.n(r),c=(a(14),a(6)),o=a(5),i=a(1),u=a(2),m=a(4),d=a(3),f=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).checkDisplayEditTask=function(){var t=n.props,e=t.statusEditTask,a=t.fieldName,r=t.fieldStatus,l=t.statusUpdateTask,c=t.onHandleChange,o=t.onAdd,i=t.onUpdate,u=t.onReset,m=t.hideEditTask;if(e)return s.a.createElement("div",{className:"panel panel-warning"},s.a.createElement("div",{className:"panel-heading flex"},s.a.createElement("h3",{className:"panel-title"},l?"S\u01b0\u0309a c\xf4ng vi\xea\u0323c":"Th\xeam C\xf4ng Vi\u1ec7c"),s.a.createElement("span",{className:"icon-close",onClick:function(){return m()}},s.a.createElement("i",{className:"far fa-times-circle"}))),s.a.createElement("div",{className:"panel-body"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"T\xean c\xf4ng vi\xea\u0323c:"),s.a.createElement("input",{type:"text",className:"form-control",name:"fieldName",value:a,onChange:function(t){return c(t)}})),s.a.createElement("label",null,"Tr\u1ea1ng Th\xe1i :"),s.a.createElement("div",{className:"form-check"},s.a.createElement("label",{className:"form-check-label"},s.a.createElement("input",{className:"form-check-input",name:"fieldStatus",value:"notComplete",type:"radio","aria-label":"Text for screen reader",onChange:function(t){return c(t)},checked:l?!r:"notComplete"===r}),s.a.createElement("span",null,"Ch\u01b0a hoa\u0300n tha\u0300nh")),s.a.createElement("label",{className:"form-check-label"},s.a.createElement("input",{className:"form-check-input",name:"fieldStatus",value:"complete",type:"radio","aria-label":"Text for screen reader",onChange:function(t){return c(t)},checked:l?r:"complete"===r}),s.a.createElement("span",null,"Hoa\u0300n tha\u0300nh"))),s.a.createElement("br",null),s.a.createElement("div",{className:"text-center"},l?s.a.createElement("button",{type:"submit",className:"btn  btn-info",onClick:function(t){return i(t)}},"S\u01b0\u0309a"):s.a.createElement("button",{type:"submit",className:"btn btn-warning",onClick:function(t){return o(t)}},"Th\xeam"),s.a.createElement("button",{type:"reset",className:"btn btn-danger",onClick:function(t){return u(t)}},"Reset")))))},n.state={fieldName:"",fieldStatus:null},n}return Object(u.a)(a,[{key:"componentWillMount",value:function(){var t=this.props;t.statusEditTask,t.fieldName,t.fieldStatus,t.statusUpdateTask,t.onHandleChange,t.onAdd,t.onUpdate,t.onReset,t.hideEditTask}},{key:"render",value:function(){return s.a.createElement("div",null,this.checkDisplayEditTask())}}]),a}(n.Component),p=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){return Object(i.a)(this,a),e.call(this,t)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.displayEditTask;t.showEditTask;return s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e()}},s.a.createElement("span",{className:"fa fa-plus mr-5"}),"Th\xeam C\xf4ng Vi\u1ec7c"),s.a.createElement("div",{className:"row mt-15"},s.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nh\u1eadp t\u1eeb kh\xf3a..."}),s.a.createElement("span",{className:"input-group-btn"},s.a.createElement("button",{className:"btn btn-primary",type:"button"},s.a.createElement("span",{className:"fa fa-search mr-5"}),"T\xecm")))),s.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6"})))}}]),a}(n.Component),h=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){return Object(i.a)(this,a),e.call(this,t)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.listItem,a=t.stt,n=t.onDelete,r=t.onChangeStatus,l=t.showUpdateTask,c=e.name,o=e.status,i=e.id;return s.a.createElement("tr",{className:o?"list-item complete":"list-item"},s.a.createElement("td",null,a),s.a.createElement("td",null,c),s.a.createElement("td",{className:"text-center"},s.a.createElement("span",{className:o?"label label-success":"label label-danger",onClick:function(){return r(i)}},o?"\u0110a\u0303 hoa\u0300n tha\u0300nh":"Ch\u01b0a hoa\u0300n tha\u0300nh")),s.a.createElement("td",{className:"text-center"},s.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(){return l(i)}},s.a.createElement("span",{className:"fa fa-pencil mr-5"}),"S\u1eeda"),"\xa0",s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return n(i)}},s.a.createElement("span",{className:"fa fa-trash mr-5"}),"X\xf3a")))}}]),a}(n.Component),E=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).updateDataBase=function(){var t=n.props.database;t&&n.setState({database:t})},n.onChange=function(t){var e,a=n.state,s=a.fieldName,r=a.fieldStatus,l=(a.resetQuickSearch,n.props.filterItem),c=t.target,i=c.name,u=c.value;n.setState((e={},Object(o.a)(e,i,u),Object(o.a)(e,"resetQuickSearch",!1),e)),l("fieldName"===i?u:s,"fieldStatus"===i?u:r)},n.renderListItem=function(){var t=n.props,e=t.database,a=t.onDelete,r=t.onChangeStatus,l=t.showUpdateTask;if(e)return e.map((function(t,e){return s.a.createElement(h,{key:e,stt:e+1,listItem:t,onDelete:function(t){return a(t)},onChangeStatus:function(t){return r(t)},showUpdateTask:function(t){return l(t)}})}))},n.onDeleteQuickSearch=function(){var t=n.state.fieldStatus,e=n.props.filterItem;n.setState({fieldName:"",resetQuickSearch:!0}),e("",t)},n.state={database:null,fieldName:"",fieldStatus:-1,sort:{sortName:"",sortStatus:-1},resetQuickSearch:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.props,a=e.onHandleSort,n=e.sort,r=e.resetQuickSearch,l=this.state.fieldName;return s.a.createElement("table",{className:"table table-bordered table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center table-header",onClick:function(t){return a(t,"sttSort",-1)}},"STT",s.a.createElement("span",{className:"sort-box"})),s.a.createElement("th",{className:"text-center table-header",onClick:function(t){return a(t,"nameSort",-1)}},"T\xean c\xf4ng vi\xea\u0323c",s.a.createElement("span",{className:"sort-box",style:-1===n.nameSort.status?{display:"inline-block"}:(n.nameSort.status,{display:"none"})},s.a.createElement("i",{className:"fas fa-sort"})),s.a.createElement("span",{className:"sort-box",style:0===n.nameSort.status?{display:"inline-block"}:(n.nameSort.status,{display:"none"})},s.a.createElement("i",{className:"fas fa-sort-amount-down"})),s.a.createElement("span",{className:"sort-box",style:1===n.nameSort.status?{display:"inline-block"}:(n.nameSort.status,{display:"none"})},s.a.createElement("i",{className:"fas fa-sort-amount-up"}))),s.a.createElement("th",{className:"text-center table-header",onClick:function(t){return a(t,"statusSort",-1)}},"Tr\u1ea1ng Th\xe1i",s.a.createElement("span",{className:"sort-box",style:-1===n.statusSort.status?{display:"inline-block"}:(n.statusSort.status,{display:"none"})},s.a.createElement("i",{className:"fas fa-sort"})),s.a.createElement("span",{className:"sort-box",style:0===n.statusSort.status?{display:"inline-block"}:(n.statusSort.status,{display:"none"})},s.a.createElement("i",{className:"far fa-check-circle"})),s.a.createElement("span",{className:"sort-box",style:1===n.statusSort.status?{display:"inline-block"}:(n.statusSort.status,{display:"none"})},s.a.createElement("i",{className:"far fa-times-circle"}))),s.a.createElement("th",{className:"text-center table-header"},"H\xe0nh \u0110\u1ed9ng"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null),s.a.createElement("td",{className:"quick-search"},s.a.createElement("input",{type:"text",className:"form-control",name:"fieldName",value:r?"":l,onChange:this.onChange,placeholder:"Ti\u0300m ki\xea\u0301m nhanh...."}),s.a.createElement("span",{className:"icon-close",onClick:function(){return t.onDeleteQuickSearch()}},s.a.createElement("i",{className:"far fa-times-circle"}))),s.a.createElement("td",null,s.a.createElement("select",{className:"form-control",name:"fieldStatus",onChange:this.onChange},s.a.createElement("option",{value:-1},"T\u1ea5t C\u1ea3"),s.a.createElement("option",{value:0},"\u0110a\u0303 hoa\u0300n tha\u0300nh"),s.a.createElement("option",{value:1},"Ch\u01b0a hoa\u0300n tha\u0300nh"))),s.a.createElement("td",null)),this.renderListItem()))}}]),a}(n.Component),b="https://5f87ffdd49ccbb0016177dd4.mockapi.io/ListItem",k=(a(15),function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).displayEditTask=function(){var t=n.state;t.statusEditTask;t.statusUpdateTask?n.setState({statusEditTask:!0,statusUpdateTask:!1,fieldName:"",fieldStatus:"notComplete"}):n.setState({statusEditTask:!0,statusUpdateTask:!1})},n.onHandleChange=function(t){n.state.statusUpdateTask;var e=t.target,a=e.name,s=e.value;n.setState(Object(o.a)({},a,s))},n.generateId=function(){return"_"+Math.random().toString(36).substr(2,9)},n.onAdd=function(t){t.preventDefault();var e=n.state,a=e.fieldName,s=e.fieldStatus,r=e.data;if(a.trim()){var l={name:a,status:"complete"===s},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)};fetch(b,c).then((function(t){return t.json()})).then((function(t){r.push(t),n.setState({data:r})})).then((function(){n.setState({fieldName:"",fieldStatus:"notComplete"})})).catch((function(t){return t}))}else alert("Ba\u0323n pha\u0309i nh\xe2\u0323p t\xean c\xf4ng vi\xea\u0323c")},n.onUpdate=function(t){var e=n.state,a=e.data,s=e.valueAdd,r=e.id,l=e.fieldName,c=e.fieldStatus;if(l){var o={name:l,status:c},i=a.map((function(t,e){return t.id===r&&(t.name=l,t.status=c),t}));n.setState({data:i}),t.preventDefault(),console.log(s);var u={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)};fetch(b+"/"+r,u).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch((function(t){return alert("Update t\xean c\xf4ng vi\xea\u0323c kh\xf4ng tha\u0300nh c\xf4ng!!!")}))}else alert("Vui lo\u0300ng nh\xe2\u0323p c\xf4ng vi\xea\u0323c!!")},n.onReset=function(t){t.preventDefault(),n.setState({fieldName:"",fieldStatus:""})},n.onDelete=function(t){var e=n.state,a=e.data;e.statusEditTask;fetch(b+"/"+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch((function(t){return t}));var s=a.filter((function(e,a){return e.id!==t}));n.setState({data:s}),n.setState({statusEditTask:!1})},n.onChangeStatus=function(t){var e=n.state,a=(e.fieldStatus,e.data),s=a.map((function(e,a){return e.id===t&&(e.status=!e.status),e}));n.setState({data:s});var r=a.filter((function(e,a){return e.id===t})).map((function(t){return t.status=t.status,t})),l={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r[0])};console.log(r),fetch(b+"/"+t,l).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){return alert("Thay \u0111\xf4\u0309i tra\u0323ng tha\u0301i kh\xf4ng tha\u0300nh c\xf4ng!!!")}))},n.showUpdateTask=function(t){var e=n.state,a=(e.statusUpdateTask,e.statusEditTask,e.data),s=(e.fieldName,e.fieldStatus,a.filter((function(e,a){return e.id===t})));n.showEditTask(),n.setState({fieldName:s[0].name,fieldStatus:s[0].status,statusUpdateTask:!0,valueAdd:s[0],id:t})},n.showEditTask=function(){n.state.statusUpdateTask;n.setState({statusEditTask:!0,statusUpdateTask:!1})},n.hideEditTask=function(){var t=n.state;t.statusUpdateTask,t.fieldName,t.fieldStatus;n.setState({fieldName:"",fieldStatus:"notComplete",statusEditTask:!1})},n.filterItem=function(t,e){var a=n.state;a.filterValue,a.sort;n.setState({filterValue:{name:t,status:parseInt(e)}})},n.onHandleSort=function(t,e,a){var s,r=n.state,l=r.sort,i=r.filterValue;i.name,i.status;n.setState({sort:Object(c.a)(Object(c.a)({},l),{},(s={},Object(o.a)(s,e,{status:l[e].status<1?l[e].status+1:-1}),Object(o.a)(s,"sortBy",e),s))})},n.state={dataInit:null,data:null,statusEditTask:!1,id:null,fieldName:"",fieldStatus:"notComplete",statusUpdateTask:!1,valueAdd:null,filterValue:{name:"",status:-1},sort:{sortBy:"",sttSort:{status:-1},nameSort:{status:-1},statusSort:{status:-1}}},n}return Object(u.a)(a,[{key:"componentWillMount",value:function(){var t=this;console.log("Loading data...."),fetch(b).then((function(t){return t.json()})).then((function(e){t.setState({data:e,dataInit:e})}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.data,n=(e.dataInit,e.statusEditTask),r=e.fieldName,l=e.fieldStatus,c=e.statusUpdateTask,o=(e.statusSort,e.nameSort,e.filterValue),i=e.sort;if(a){var u=function(){if(o)return o.name&&(a=a.filter((function(t){return-1!==t.name.toUpperCase().indexOf(o.name.toUpperCase().trim())}))),a=a.filter((function(t){return-1===o.status?t:t.status===(0===o.status)}))};u(),i&&(u(),"nameSort"===i.sortBy?0===i.nameSort.status?a=a.sort((function(t,e){if(t.name.toUpperCase()<e.name.toUpperCase())return-1})):1===i.nameSort.status&&(a=a.sort((function(t,e){if(t.name.toUpperCase()>e.name.toUpperCase())return-1}))):"statusSort"===i.sortBy&&(i.statusSort.status,0===i.statusSort.status?a=a.sort((function(t,e){return t.status===e.status?0:t.status?-1:1})):1===i.statusSort.status&&(console.log(a),a=a.sort((function(t,e){return t.status===e.status?0:t.status?1:-1})))))}return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center"},s.a.createElement("h1",null,"Qu\u1ea3n L\xfd C\xf4ng Vi\u1ec7c"),s.a.createElement("hr",null)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4 col-lg-4"},s.a.createElement(f,{statusEditTask:n,onHandleChange:function(e){return t.onHandleChange(e)},fieldName:r,fieldStatus:l,onAdd:function(e){return t.onAdd(e)},onUpdate:function(e){return t.onUpdate(e)},onReset:function(e){return t.onReset(e)},displayEditTask:function(){return t.displayEditTask()},hideEditTask:function(){return t.hideEditTask()},statusUpdateTask:c})),s.a.createElement("div",{className:n?"col-xs-8 col-sm-8 col-md-8 col-lg-8":"col-xs-12 col-sm-12 col-md-12 col-lg-12"},s.a.createElement(p,{displayEditTask:function(){return t.displayEditTask()}}),s.a.createElement("div",{className:"row mt-15"},s.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},s.a.createElement(E,{database:a,onDelete:function(e){return t.onDelete(e)},onChangeStatus:function(e){return t.onChangeStatus(e)},showUpdateTask:function(e){return t.showUpdateTask(e)},filterItem:function(e,a){return t.filterItem(e,a)},onHandleSort:function(e,a,n){return t.onHandleSort(e,a,n)},sort:i})))))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},9:function(t,e,a){t.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.02e3ed35.chunk.js.map